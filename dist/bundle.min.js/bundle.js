!function n(o,i,s){function a(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(d)return d(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return a(o[t][1][e]||e)},r,r.exports,n,o,i,s)}return i[t].exports}for(var d="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.startPage=void 0;var l=e("./VideoControls"),u=["mov","mp4"],c=["jpg","png"];function i(e){var t,r,n,o,i,s,a=e.dataset.src,d=a.split(".");d.length<2?console.warn("No file suffix on source",a):(t=d[d.length-1],-1!==u.indexOf(t)?(n=e,o=a,d=parseInt(n.dataset.width),i=parseInt(n.dataset.height),(s=document.createElement("video")).width=d,s.height=i,s.classList.add("poster"),i=new l.VideoControls(s),(n=n.querySelector(".frame")||n).insertAdjacentElement("beforeend",s),n.insertAdjacentElement("beforeend",i.ui),s.src=o):-1!==c.indexOf(t)?(i=e,s=a,o=parseInt(i.dataset.width),e=parseInt(i.dataset.height),a=i.dataset.alt||"UI image",(r=new Image(o,e)).classList.add("poster"),r.onload=function(){return r.classList.add("visible")},r.alt=a,r.src=s,(i.querySelector(".frame")||i).insertAdjacentElement("beforeend",r)):console.warn("Don't know how to fill item type: ",t))}function n(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];.5<=o.intersectionRatio&&(i(o.target),t.unobserve(o.target))}}r.startPage=function(){var t,e=document.querySelectorAll(".item");e&&(t=new IntersectionObserver(n,{threshold:.5}),e.forEach(function(e){return t.observe(e)}))}},{"./VideoControls":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VideoControls=void 0;function n(e){return(""+Math.floor(e/60)).padStart(2,"0")+":"+(""+Math.floor(e%60)).padStart(2,"0")}var o=e("./util"),e=(Object.defineProperty(i.prototype,"ui",{get:function(){return this.controlsContainer},enumerable:!1,configurable:!0}),i.prototype.setupUI=function(){this.playPauseButton=o.createDom("div",["playPauseButton","paused"]),this.playPauseButton.addEventListener("click",this.playPause),this.loadProgressEl=o.createDom("div",["loadProgress"]),this.progressEl=o.createDom("div",["playProgress"]);var e=o.createDom("div",["track"],[this.loadProgressEl,this.progressEl]);this.clockEl=o.createDom("div",["clock"]),this.controlsContainer=o.createDom("div",["videoControls","disabled"],[this.playPauseButton,e,this.clockEl])},i.prototype.setDuration=function(e){this.duration=e,this.durationEl&&(this.durationEl.innerText=n(e))},i.prototype.setCurrentTime=function(e){var t=Math.round(e/this.duration*100);this.progressEl.style.width=t+"%",this.clockEl&&(this.clockEl.innerText=n(e))},i);function i(e){var t=this;this.playPause=function(){t.video.paused?t.video.play():t.video.pause(),t.playPauseButton.classList.toggle("playing")},this.canPlay=function(){t.setCurrentTime(t.video.currentTime),t.controlsContainer.classList.remove("disabled"),t.video.classList.add("visible")},this.gotMetadata=function(){t.setDuration(Math.round(t.video.duration))},this.endedPlayback=function(){Math.round(t.video.currentTime)===Math.round(t.duration)&&(t.video.currentTime=0,t.setCurrentTime(0))},this.timeUpdate=function(){t.setCurrentTime(Math.round(t.video.currentTime))},this.loadProgress=function(){var e=t.video.buffered;0!==e.length&&(e=e.end(0),e=Math.round(e/t.duration*100),t.loadProgressEl.style.width=e+"%")},this.video=e,this.setupUI(),this.video.addEventListener("canplay",this.canPlay),this.video.addEventListener("timeupdate",this.timeUpdate),this.video.addEventListener("progress",this.loadProgress),this.video.addEventListener("ended",this.endedPlayback),this.video.addEventListener("loadedmetadata",this.gotMetadata),2<=this.video.readyState&&(this.canPlay(),this.setDuration(this.video.duration),this.loadProgress())}r.VideoControls=e},{"./util":4}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=e("./Page");document.addEventListener("DOMContentLoaded",e.startPage)},{"./Page":1}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createDom=void 0,r.createDom=function(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null);var o=document.createElement(e);if(0<t.length)for(var i=0,s=t;i<s.length;i++){var a=s[i];o.classList.add(a)}if(null!==r)if("string"==typeof r)o.insertAdjacentText("beforeend",r);else if(r instanceof Element)o.insertAdjacentElement("beforeend",r);else if(Array.isArray(r))for(var d=0,l=r;d<l.length;d++){var u=l[d];o.insertAdjacentElement("beforeend",u)}return n&&n.insertAdjacentElement("beforeend",o),o}},{}]},{},[3]);